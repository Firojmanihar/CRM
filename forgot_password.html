<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{% static 'myapp/css/forgot_password.css' %}">
</head>

<body>

    <div class="forgot-container">
        <a href="{% url 'index' %}">
            <img src="https://sihaulichemicals.com/wp-content/uploads/2022/08/logo-s-1.jpg" alt="Your Logo">
        </a>

        <h1>Forgot Password</h1>
        <p>Enter your registered mobile number to reset your password.</p>

        {% comment %} <form id="forgot-form" method="POST">
            {% csrf_token %}

            <!-- Mobile Number Input -->
            <h2>Enter Your Mobile Number *</h2>
            <input type="tel" id="mobile" name="mobile" placeholder="Enter Mobile Number" required>
            <p id="mobile-error" class="error-message"></p>

            <!-- OTP Input (Initially Hidden) -->
            <div id="otp-section" style="display: none;">
                <h2>Enter OTP *</h2>
                <input type="text" id="otp" name="otp" placeholder="Enter OTP">
                <p id="otp-error" class="error-message"></p>
            </div>

            <!-- New Password Input (Initially Hidden) -->
            <div id="password-section" style="display: none;">
                <h2>Enter New Password *</h2>
                <input type="password" id="new-password" name="new_password" placeholder="Enter New Password"
                    minlength="8">
                <i class="fas fa-eye" id="toggle-password"></i>
                <p id="password-error" class="error-message"></p>
            </div>

            <!-- Action Button -->
            <button type="button" id="action-button">Generate OTP</button>
        </form> {% endcomment %}

        <form id="forgot-password-form">
            <label>Phone Number:</label>
            <input type="text" id="forgot-phone-number" title="Enter a valid 10-digit phone number"
                oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 10);" onkeyup="removeWarning()"
                required>
            <label for="phone_number" id="phone-number-success" style="color: green; display: none;">Otp Sent
                Successfully</label>
            <label for="phone_number" id="phone-number-invalid" style="color: red; display: none;">Invalid Phone
                Number</label>
            <label for="phone_number" id="phone-number-not-registered" style="color: red; display: none;">Phone Number
                is not Registered.</label>
            <button type="button" id="send-forgot-otp">Send OTP</button>

            <div id="forgot-otp-section" style="display: none;">
                <label>Enter OTP:</label>
                <input type="text" id="forgot-otp" onkeyup="removeWarning()" required>
                <label for="enter_otp" id="otp-verified" style="color: red; display: none;">Invalid Phone Number</label>
                <label for="enter_otp" id="otp-invalid" style="color: red; display: none;">Invalid Phone Number</label>


                <label>New Password:</label>
                <input type="password" id="new-password" onkeyup="removeWarning()" required>
                <label for="new_password" id="password-invalid" style="color: red; display: none;">Invalid Phone
                    Number</label>

                <button type="button" id="verify-forgot-otp">Reset Password</button>
            </div>
        </form>

        <p class="footer-text"><a href="{% url 'signin' %}">Back to Login</a></p>
    </div>

    <script src="{% static 'myapp/js/forgot_password.js' %}"></script>
</body>

</html>